<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="margin: auto; width: 50%; ">
    <button>点击输入姓名</button>
    <h1>笔记</h1>
    <script>
        // 获取新按钮和标题的引用，并保存至变量中：
        let myButton = document.querySelector("button");
        let myHeading = document.querySelector("h1");

        // 添加以下函数来设置个性化欢迎信息。（函数需要在调用后生效，下文中提供了两种对该函数的调用方式）
        function setUserName() {
        let myName = prompt("请输入你的名字。");
        if (!myName) {
            setUserName();
            } else {
                localStorage.setItem("name", myName);
                myHeading.textContent = "您好，" + myName;
            }
        }  
        // 添加以下的 if ... else 块。我们可以称之为初始化代码，因为它在页面初次读取时进行构造工作：
        if (!localStorage.getItem("name")) {
        setUserName();
        } else {
        let storedName = localStorage.getItem("name");
        myHeading.textContent = "您好，" + storedName;
        }
        /*
        这里首次使用了取非运算符（逻辑非，用 ! 表示）来检测 'name' 数据是否存在。若不存在，调用 setUserName() 创建。若存在（即用户上次访问时设置过），调用 getItem() 获取保存的名字，像上文的 setUserName() 那样设置 textContent。
       
        最后，为按钮设置 onclick 事件处理器。按钮按下时运行 setUserName() 函数。这样用户就可以通过按这个按钮来自由设置新名字了：
        */
        myButton.onclick = function () {
        setUserName();
        };


    </script>
</body>
</html>